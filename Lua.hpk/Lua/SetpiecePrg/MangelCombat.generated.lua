rawset(_G, "SetpiecePrgs", rawget(_G, "SetpiecePrgs") or {})
function SetpiecePrgs.MangelCombat(seed, state, TriggerUnits)
  local li = {
    id = "MangelCombat"
  }
  local rand = BraidRandomCreate(seed or AsyncRand())
  prgdbg(li, 1, 1)
  sprocall(SetpieceFadeOut.Exec, SetpieceFadeOut, state, rand, true, "", 0)
  local _, DrKronenberg
  prgdbg(li, 1, 2)
  _, DrKronenberg = sprocall(SetpieceAssignFromGroup.Exec, SetpieceAssignFromGroup, state, rand, DrKronenberg, "", "DrKronenberg", "Unit", false)
  prgdbg(li, 1, 3)
  sprocall(SetpieceCamera.Exec, SetpieceCamera, state, rand, false, "", "Max", "", "", "linear", 22000, false, false, point(155203, 126727, 8475), point(156540, 124085, 8958), point(156760, 139030, 7988), point(160078, 135302, 8280), 4200, 2000, false, 20, 0, 1500, 0, 200, 0, "Show all", 100)
  prgdbg(li, 1, 5)
  sprocall(SetpieceAnimation.Exec, SetpieceAnimation, state, rand, false, "", DrKronenberg, "", true, "nw_Standing_CombatBegin2", 650, 0, range(1, 1), 0, false, true, false, "")
  prgdbg(li, 1, 6)
  sprocall(SetpieceFadeIn.Exec, SetpieceFadeIn, state, rand, false, "", 100, 1000)
  prgdbg(li, 1, 7)
  sprocall(SetpieceSleep.Exec, SetpieceSleep, state, rand, true, "", 2000)
  prgdbg(li, 1, 8)
  sprocall(SetpieceFadeOut.Exec, SetpieceFadeOut, state, rand, true, "", 1500)
  prgdbg(li, 1, 9)
  sprocall(SetpieceSleep.Exec, SetpieceSleep, state, rand, true, "", 500)
  prgdbg(li, 1, 10)
  sprocall(SetpieceCamera.Exec, SetpieceCamera, state, rand, false, "", "Max", "", "linear", "linear", 22000, false, false, point(156760, 139030, 7988), point(160078, 135302, 8280), point(156760, 139030, 7988), point(160078, 135302, 8280), 4200, 2000, false, 35, 25, 6000, 13000, 200, 0, "Show all", 100)
  local _, SP_MangelStart
  prgdbg(li, 1, 11)
  _, SP_MangelStart = sprocall(SetpieceTeleport.Exec, SetpieceTeleport, state, DrKronenberg, "MangelReleaseInfectedPos", true)
  local _, SP_MangelRunning
  prgdbg(li, 1, 12)
  _, SP_MangelRunning = sprocall(SetpieceAnimation.Exec, SetpieceAnimation, state, rand, false, "", DrKronenberg, "SP_MangelRunning", true, "civ_Standing_Run2", 1000, 0, range(1, 1), 0, false, true, false, "")
  prgdbg(li, 1, 13)
  sprocall(SetpieceFadeIn.Exec, SetpieceFadeIn, state, rand, false, "", 100, 500)
  prgdbg(li, 1, 14)
  sprocall(SetpieceSleep.Exec, SetpieceSleep, state, rand, true, "", 2000)
  prgdbg(li, 1, 15)
  sprocall(SetpieceFadeOut.Exec, SetpieceFadeOut, state, rand, true, "", 500)
  prgdbg(li, 1, 16)
  sprocall(SetpieceSleep.Exec, SetpieceSleep, state, rand, true, "", 500)
  local _, FinalInfected_1
  prgdbg(li, 1, 17)
  _, FinalInfected_1 = sprocall(SetpieceSpawn.Exec, SetpieceSpawn, state, rand, FinalInfected_1, "FinalInfected_1")
  local _, FinalInfected_2
  prgdbg(li, 1, 18)
  _, FinalInfected_2 = sprocall(SetpieceSpawn.Exec, SetpieceSpawn, state, rand, FinalInfected_2, "FinalInfected_2")
  local _, FinalInfected_3
  prgdbg(li, 1, 19)
  _, FinalInfected_3 = sprocall(SetpieceSpawn.Exec, SetpieceSpawn, state, rand, FinalInfected_3, "FinalInfected_3")
  prgdbg(li, 1, 20)
  sprocall(PrgPlaySetpiece.Exec, PrgPlaySetpiece, state, rand, false, "", "", "MangelCombat_Infected1", FinalInfected_1)
  prgdbg(li, 1, 21)
  sprocall(PrgPlaySetpiece.Exec, PrgPlaySetpiece, state, rand, false, "", "", "MangelCombat_Infected2", FinalInfected_2)
  prgdbg(li, 1, 22)
  sprocall(PrgPlaySetpiece.Exec, PrgPlaySetpiece, state, rand, false, "", "", "MangelCombat_Infected3", FinalInfected_3)
  prgdbg(li, 1, 23)
  sprocall(SetpieceCamera.Exec, SetpieceCamera, state, rand, false, "", "Max", "", "linear", "linear", 27000, false, false, point(166727, 140918, 8411), point(167087, 143897, 8498), point(167237, 145098, 8538), point(167597, 148077, 8625), 4200, 2000, false, 25, 25, 6000, 19000, 0, 287, "Show all", 100)
  prgdbg(li, 1, 24)
  sprocall(SetpieceFadeIn.Exec, SetpieceFadeIn, state, rand, false, "", 0, 1500)
  prgdbg(li, 1, 25)
  sprocall(SetpieceSleep.Exec, SetpieceSleep, state, rand, true, "", 7000)
  prgdbg(li, 1, 26)
  sprocall(SetpieceFadeOut.Exec, SetpieceFadeOut, state, rand, true, "", 1500)
  prgdbg(li, 1, 27)
  sprocall(PrgForceStopSetpiece.Exec, PrgForceStopSetpiece, state, rand, "")
end
