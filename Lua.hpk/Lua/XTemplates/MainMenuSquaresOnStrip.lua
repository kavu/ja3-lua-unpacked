PlaceObj("XTemplate", {
  group = "Zulu",
  id = "MainMenuSquaresOnStrip",
  PlaceObj("XTemplateWindow", {
    "comment",
    "squares on strip",
    "UIEffectModifierId",
    "MainMenuMainBar",
    "Dock",
    "box",
    "HAlign",
    "center",
    "VAlign",
    "center",
    "MaxWidth",
    370,
    "HandleKeyboard",
    false,
    "ChildrenHandleMouse",
    false
  }, {
    PlaceObj("XTemplateWindow", {
      "__class",
      "XFitContent",
      "IdNode",
      false,
      "Fit",
      "both",
      "UseMeasureCache",
      false
    }, {
      PlaceObj("XTemplateWindow", {
        "__class",
        "XImage",
        "IdNode",
        false,
        "Dock",
        "box",
        "HAlign",
        "center",
        "VAlign",
        "center",
        "Image",
        "UI/Common/mm_grid"
      }, {
        PlaceObj("XTemplateWindow", {
          "Margins",
          box(14, 0, 0, 0),
          "GridStretchX",
          false,
          "GridStretchY",
          false,
          "LayoutMethod",
          "Grid",
          "LayoutHSpacing",
          8,
          "LayoutVSpacing",
          8
        }, {
          PlaceObj("XTemplateWindow", {
            "comment",
            "row1",
            "__class",
            "XImage",
            "Transparency",
            255,
            "Image",
            "UI/Common/mm_grid_01A"
          }),
          PlaceObj("XTemplateWindow", {
            "__class",
            "XImage",
            "GridX",
            2,
            "Transparency",
            255,
            "Image",
            "UI/Common/mm_grid_01B"
          }),
          PlaceObj("XTemplateWindow", {
            "__class",
            "XImage",
            "GridX",
            3,
            "Transparency",
            255,
            "Image",
            "UI/Common/mm_grid_01C"
          }),
          PlaceObj("XTemplateWindow", {
            "__class",
            "XImage",
            "GridX",
            4,
            "Transparency",
            255,
            "Image",
            "UI/Common/mm_grid_01D"
          }),
          PlaceObj("XTemplateWindow", {
            "comment",
            "row2",
            "__class",
            "XImage",
            "GridY",
            2,
            "Transparency",
            255,
            "Image",
            "UI/Common/mm_grid_02A"
          }),
          PlaceObj("XTemplateWindow", {
            "__class",
            "XImage",
            "GridX",
            2,
            "GridY",
            2,
            "Transparency",
            255,
            "Image",
            "UI/Common/mm_grid_02B"
          }),
          PlaceObj("XTemplateWindow", {
            "__class",
            "XImage",
            "GridX",
            3,
            "GridY",
            2,
            "Transparency",
            255,
            "Image",
            "UI/Common/mm_grid_02C"
          }),
          PlaceObj("XTemplateWindow", {
            "__class",
            "XImage",
            "GridX",
            4,
            "GridY",
            2,
            "Transparency",
            255,
            "Image",
            "UI/Common/mm_grid_02D"
          }),
          PlaceObj("XTemplateWindow", {
            "comment",
            "row3",
            "__class",
            "XImage",
            "GridY",
            3,
            "Transparency",
            255,
            "Image",
            "UI/Common/mm_grid_03A"
          }),
          PlaceObj("XTemplateWindow", {
            "__class",
            "XImage",
            "GridX",
            2,
            "GridY",
            3,
            "Transparency",
            255,
            "Image",
            "UI/Common/mm_grid_03B"
          }),
          PlaceObj("XTemplateWindow", {
            "__class",
            "XImage",
            "GridX",
            3,
            "GridY",
            3,
            "Transparency",
            255,
            "Image",
            "UI/Common/mm_grid_03C"
          }),
          PlaceObj("XTemplateWindow", {
            "__class",
            "XImage",
            "GridX",
            4,
            "GridY",
            3,
            "Transparency",
            255,
            "Image",
            "UI/Common/mm_grid_03D"
          }),
          PlaceObj("XTemplateWindow", {
            "comment",
            "row4",
            "__class",
            "XImage",
            "GridY",
            4,
            "Transparency",
            255,
            "Image",
            "UI/Common/mm_grid_04A"
          }),
          PlaceObj("XTemplateWindow", {
            "__class",
            "XImage",
            "GridX",
            2,
            "GridY",
            4,
            "Transparency",
            255,
            "Image",
            "UI/Common/mm_grid_04B"
          }),
          PlaceObj("XTemplateWindow", {
            "__class",
            "XImage",
            "GridX",
            3,
            "GridY",
            4,
            "Transparency",
            255,
            "Image",
            "UI/Common/mm_grid_04C"
          }),
          PlaceObj("XTemplateWindow", {
            "__class",
            "XImage",
            "GridX",
            4,
            "GridY",
            4,
            "Transparency",
            255,
            "Image",
            "UI/Common/mm_grid_04D"
          }),
          PlaceObj("XTemplateWindow", {
            "comment",
            "row5",
            "__class",
            "XImage",
            "GridY",
            5,
            "Transparency",
            255,
            "Image",
            "UI/Common/mm_grid_05A"
          }),
          PlaceObj("XTemplateWindow", {
            "__class",
            "XImage",
            "GridX",
            2,
            "GridY",
            5,
            "Transparency",
            255,
            "Image",
            "UI/Common/mm_grid_05B"
          }),
          PlaceObj("XTemplateWindow", {
            "__class",
            "XImage",
            "GridX",
            3,
            "GridY",
            5,
            "Transparency",
            255,
            "Image",
            "UI/Common/mm_grid_05C"
          }),
          PlaceObj("XTemplateWindow", {
            "__class",
            "XImage",
            "GridX",
            4,
            "GridY",
            5,
            "Transparency",
            255,
            "Image",
            "UI/Common/mm_grid_05D"
          }),
          PlaceObj("XTemplateWindow", {
            "comment",
            "row6",
            "__class",
            "XImage",
            "GridY",
            6,
            "Transparency",
            255,
            "Image",
            "UI/Common/mm_grid_06A"
          }),
          PlaceObj("XTemplateWindow", {
            "__class",
            "XImage",
            "GridX",
            2,
            "GridY",
            6,
            "Transparency",
            255,
            "Image",
            "UI/Common/mm_grid_06B"
          }),
          PlaceObj("XTemplateWindow", {
            "__class",
            "XImage",
            "GridX",
            3,
            "GridY",
            6,
            "Transparency",
            255,
            "Image",
            "UI/Common/mm_grid_06C"
          }),
          PlaceObj("XTemplateWindow", {
            "__class",
            "XImage",
            "GridX",
            4,
            "GridY",
            6,
            "Transparency",
            255,
            "Image",
            "UI/Common/mm_grid_06D"
          }),
          PlaceObj("XTemplateWindow", {
            "comment",
            "row7",
            "__class",
            "XImage",
            "GridY",
            7,
            "Transparency",
            255,
            "Image",
            "UI/Common/mm_grid_07A"
          }),
          PlaceObj("XTemplateWindow", {
            "__class",
            "XImage",
            "GridX",
            2,
            "GridY",
            7,
            "Transparency",
            255,
            "Image",
            "UI/Common/mm_grid_07B"
          }),
          PlaceObj("XTemplateWindow", {
            "__class",
            "XImage",
            "GridX",
            3,
            "GridY",
            7,
            "Transparency",
            255,
            "Image",
            "UI/Common/mm_grid_07C"
          }),
          PlaceObj("XTemplateWindow", {
            "__class",
            "XImage",
            "GridX",
            4,
            "GridY",
            7,
            "Transparency",
            255,
            "Image",
            "UI/Common/mm_grid_07D"
          }),
          PlaceObj("XTemplateWindow", {
            "comment",
            "row8",
            "__class",
            "XImage",
            "GridY",
            8,
            "Transparency",
            255,
            "Image",
            "UI/Common/mm_grid_08A"
          }),
          PlaceObj("XTemplateWindow", {
            "__class",
            "XImage",
            "GridX",
            2,
            "GridY",
            8,
            "Transparency",
            255,
            "Image",
            "UI/Common/mm_grid_08B"
          }),
          PlaceObj("XTemplateWindow", {
            "__class",
            "XImage",
            "GridX",
            3,
            "GridY",
            8,
            "Transparency",
            255,
            "Image",
            "UI/Common/mm_grid_08C"
          }),
          PlaceObj("XTemplateWindow", {
            "__class",
            "XImage",
            "GridX",
            4,
            "GridY",
            8,
            "Transparency",
            255,
            "Image",
            "UI/Common/mm_grid_08D"
          }),
          PlaceObj("XTemplateWindow", {
            "comment",
            "row9",
            "__class",
            "XImage",
            "GridY",
            9,
            "Transparency",
            255,
            "Image",
            "UI/Common/mm_grid_09A"
          }),
          PlaceObj("XTemplateWindow", {
            "__class",
            "XImage",
            "GridX",
            2,
            "GridY",
            9,
            "Transparency",
            255,
            "Image",
            "UI/Common/mm_grid_09B"
          }),
          PlaceObj("XTemplateWindow", {
            "__class",
            "XImage",
            "GridX",
            3,
            "GridY",
            9,
            "Transparency",
            255,
            "Image",
            "UI/Common/mm_grid_09C"
          }),
          PlaceObj("XTemplateWindow", {
            "__class",
            "XImage",
            "GridX",
            4,
            "GridY",
            9,
            "Transparency",
            255,
            "Image",
            "UI/Common/mm_grid_09D"
          }),
          PlaceObj("XTemplateWindow", {
            "comment",
            "row10",
            "__class",
            "XImage",
            "GridY",
            10,
            "Transparency",
            255,
            "Image",
            "UI/Common/mm_grid_10A"
          }),
          PlaceObj("XTemplateWindow", {
            "__class",
            "XImage",
            "GridX",
            2,
            "GridY",
            10,
            "Transparency",
            255,
            "Image",
            "UI/Common/mm_grid_10B"
          }),
          PlaceObj("XTemplateWindow", {
            "__class",
            "XImage",
            "GridX",
            3,
            "GridY",
            10,
            "Transparency",
            255,
            "Image",
            "UI/Common/mm_grid_10C"
          }),
          PlaceObj("XTemplateWindow", {
            "__class",
            "XImage",
            "GridX",
            4,
            "GridY",
            10,
            "Transparency",
            255,
            "Image",
            "UI/Common/mm_grid_10D"
          }),
          PlaceObj("XTemplateFunc", {
            "name",
            "Open(self, ...)",
            "func",
            function(self, ...)
              XWindow.Open(self, ...)
              self:CreateThread("Effect", function()
                local weightedTable = {}
                for row = 1, 10 do
                  for col = 1, 4 do
                    local pos = {row, col}
                    local weight
                    if col == 1 or col == 4 or row == 1 or row == 10 then
                      weight = 5
                    else
                      weight = 50
                    end
                    table.insert(weightedTable, {
                      weight,
                      #weightedTable + 1
                    })
                  end
                end
                while true do
                  local squarePos = GetWeightedRandom(weightedTable)
                  if squarePos then
                    local oldEntryPos = weightedTable[squarePos]
                    weightedTable[squarePos] = {0, squarePos}
                    Sleep(AsyncRand(100, 1000))
                    local pingPongDuration = AsyncRand(3000, 6000)
                    self[squarePos]:AddInterpolation({
                      id = "_transparency",
                      type = const.intAlpha,
                      startValue = 0,
                      endValue = 102,
                      duration = pingPongDuration / 2,
                      on_complete = function()
                        self[squarePos]:AddInterpolation({
                          id = "_transparency",
                          type = const.intAlpha,
                          startValue = 102,
                          endValue = 0,
                          duration = pingPongDuration / 2,
                          on_complete = function()
                            weightedTable[squarePos] = oldEntryPos
                          end
                        })
                      end
                    })
                  else
                    Sleep(AsyncRand(100, 1000))
                  end
                end
              end)
            end
          })
        })
      })
    })
  })
})
